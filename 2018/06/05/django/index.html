<!DOCTYPE html>
<html>

<head>
  
  <title>Django - Lu Ruijie&#39;s Personal Homepage</title>
  <meta charset="UTF-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/timg.ico" type="image/png" />
  <meta name="description" content="Django–Django是一个由Python编写的开放源代码的Web应用框架。">
<meta name="keywords" content="python,django">
<meta property="og:type" content="article">
<meta property="og:title" content="Django">
<meta property="og:url" content="https:&#x2F;&#x2F;luyuonism.github.io&#x2F;2018&#x2F;06&#x2F;05&#x2F;django&#x2F;index.html">
<meta property="og:site_name" content="Lu Ruijie&#39;s Personal Homepage">
<meta property="og:description" content="Django–Django是一个由Python编写的开放源代码的Web应用框架。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;07&#x2F;1cIVjQgrBLUwTE8.png">
<meta property="og:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;07&#x2F;nHmhiDqzW2OyGo9.png">
<meta property="og:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;07&#x2F;Ofp6F2CSZLqTg8h.png">
<meta property="og:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;07&#x2F;xVj6tmMR4qAyG1C.png">
<meta property="og:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;07&#x2F;qwRQChyBemLnOix.png">
<meta property="og:updated_time" content="2019-11-07T12:14:24.385Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2019&#x2F;11&#x2F;07&#x2F;1cIVjQgrBLUwTE8.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/atom-one-dark.css">
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1573128875344">
</head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://i.loli.net/2019/01/13/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="javascript:;" target="_blank" rel="noopener" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>
        <a href="/" title="ruijielu" class="mdui-btn mdui-btn-icon"><img src="/avatar.png"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="ruijielu">
            <img src="/avatar.png" alt="ruijielu">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>7</div>
        <div><span>标签</span>3</div>
        <div><span>分类</span>0</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于主页">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于主页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">社交按钮</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/8736309" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/luyuonism/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="/weixin.jpg" target="_blank" mdui-tooltip="{content: '微信 luyuonism'}" style="color: rgb(102, 255, 204);background-color: rgba(102, 255, 204, .15);">
            <i class="nexmoefont icon-wechat-fill"></i>
        </a><a class="mdui-ripple" href="/qq.jpg" target="_blank" mdui-tooltip="{content: 'QQ 1501405087'}" style="color: rgb(102, 204, 255);background-color: rgba(102, 204, 255, .15);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="https://weibo.com/6416453194/profile?rightmod=1&wvr=6&mod=personinfo" target="_blank" mdui-tooltip="{content: '微博'}" style="color: rgb(255, 69, 24);background-color: rgba(255, 69, 24, .15);">
            <i class="nexmoefont icon-weibo"></i>
        </a><a class="mdui-ripple" href="https://www.zhihu.com/people/lu-yu-36-39-54/activities" target="_blank" mdui-tooltip="{content: '知乎'}" style="color: rgb(11, 141, 255);background-color: rgba(11, 141, 255, .15);">
            <i class="nexmoefont icon-zhihu"></i>
        </a>
    </div>
</div>
  
  

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">标签云</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/django/" style="font-size: 15px;">django</a> <a href="/tags/interview/" style="font-size: 10px;">interview</a> <a href="/tags/python/" style="font-size: 20px;">python</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li></ul>
    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">最新文章</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2019/11/05/django-STATIC_ROOT/">django配置  STATIC_ROOT</a>
          </li>
        
          <li>
            <a href="/2019/06/05/python-f-string/">python f-string式格式化</a>
          </li>
        
          <li>
            <a href="/2018/07/05/interview/">interview</a>
          </li>
        
          <li>
            <a href="/2018/06/05/decorator/">decorator</a>
          </li>
        
          <li>
            <a href="/2018/06/05/django/">Django</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2019 ruijielu
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com" target="_blank">Git</a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
    <div class="nexmoe-post-cover"> 
        
        <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=4211954108,196742607&fm=26&gp=0.jpg">
        
        <h1>Django</h1>
    </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2018年06月05日</a>
    <a><i class="nexmoefont icon-areachart"></i>2,635 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 10 分钟</a>
    
    
      <a class="nexmoefont icon-tag-fill -link" href="/tags/django/" rel="tag">django</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/python/" rel="tag">python</a>
    
  </div>
  <article>
    <p>Django–Django是一个由Python编写的开放源代码的Web应用框架。</p>
<a id="more"></a>

<h1 id="创建博客"><a href="#创建博客" class="headerlink" title="创建博客"></a>创建博客</h1><p><em>文章 分类 评论 搜索 统计</em></p>
<h2 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h2><p>从用户的角度，通过访问不同的url，来得到不同的网页。<br>从开发者的角度，通过解析不同的url，来输出（render/display）该url指向的网页内容。</p>
<h3 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h3><p>用户请求(request) –&gt; 通过访问不同的url<br>响应(response)的内容，也就是用户看到的内容 –&gt; 用户最终看到的内容</p>
<p>http  用户发起请求 –&gt; 响应：浏览器获得响应内容，解析html，css，javascript</p>
<p>1.获得url请求 request<br>2.解析request （拿到url，解析url，让处理该url的方法去处理request）<br>3.拼接response ，返回给用户<br>4.浏览器获得响应内容，解析html，css，javascript</p>
<h2 id="django框架"><a href="#django框架" class="headerlink" title="django框架"></a>django框架</h2><p>创建项目:</p>
<pre><code class="django">django-admin startproject 项目名</code></pre>
<p>创建一个testdj目录,目录的结构为：</p>
<pre><code>testdj/
    manage.py    一个让你用各种方式管理 Django 项目的命令行工具。
    testdj/        一个纯 Python 包
        __init__.py     一个空文件，告诉 Python 这个目录应该被认为是一个 Python 包。
        settings.py     Django 项目的配置文件。
        urls.py     Django 项目的 URL 声明，就像你网站的“目录”。
        wsgi.py     作为你的项目的运行在 WSGI 兼容的Web服务器上的入口。</code></pre><p>启动服务</p>
<pre><code class="python">python manage.py runserver</code></pre>
<p>将会输出如下结果：</p>
<pre><code class="python">python manage.py runserver
Performing system checks...

System check identified no issues (0 silenced).
May 10, 2018 - 17:21:16
Django version 2.0.5, using settings &#39;testdj.settings&#39;
Starting development server at http://127.0.0.1:8000/
Quit the server with CTRL-BREAK.</code></pre>
<p>更换端口</p>
<pre><code class="python">python manage.py runserver 8080</code></pre>
<p>如果想要修改服务器监听的IP，在端口之前输入新的</p>
<pre><code class="python">python manage.py runserver 0.0.0.0:8000</code></pre>
<h2 id="使用django开发个人博客"><a href="#使用django开发个人博客" class="headerlink" title="使用django开发个人博客"></a>使用django开发个人博客</h2><p>首先，博客的页面属于前端，不想自己写前端代码，怎么办???</p>
<h3 id="抓取网站源码工具"><a href="#抓取网站源码工具" class="headerlink" title="抓取网站源码工具"></a>抓取网站源码工具</h3><p><a href="'https://smalltool.github.io'">仿站小工具</a>是通过网址下载静态网页的工具。从输入的网址下载html代码，提取出JS、Css、Image、Picture、Flash等静态文件网址，再从下载完好的Css代码中提取出Image静态文件网址，通过网址下载静态文件，根据软件设置好的保存规则，自动修正html和css代码链接路径，最终这些静态文件被按分类保存到电脑文件夹。</p>
<ul>
<li>添加网址<br>输入的网址是要抓取页面网址，相对路径是主域名后边的路径，文件名即抓取后的文件保存的名字<br><img src="https://i.loli.net/2019/11/07/1cIVjQgrBLUwTE8.png" alt="添加地址.png" title="添加网址"></li>
<li>开始下载<br><img src="https://i.loli.net/2019/11/07/nHmhiDqzW2OyGo9.png" alt="开始下载" title="开始下载"></li>
<li>获取的结果</li>
</ul>
<p><img src="https://i.loli.net/2019/11/07/Ofp6F2CSZLqTg8h.png" alt="抓取结果" title="抓取结果"></p>
<ul>
<li>整理结果<br>把获取的除了static文件，其它文件中的 .html文件都放入 templates中，把static文件和templates放于同级目录<br><img src="https://i.loli.net/2019/11/07/xVj6tmMR4qAyG1C.png" alt="整理结果" title="整理结果"><br>此时，django所需的前端页面就有了，static、templates</li>
</ul>
<p><em>此时index.html 文件的静态文件配置的路径如果正确，路径都指向 static 对应的文件，则可以在浏览器中运行</em></p>
<h3 id="创建博客项目"><a href="#创建博客项目" class="headerlink" title="创建博客项目"></a>创建博客项目</h3><h4 id="创建虚拟环境"><a href="#创建虚拟环境" class="headerlink" title="创建虚拟环境"></a>创建虚拟环境</h4><h5 id="Virtualenv"><a href="#Virtualenv" class="headerlink" title="Virtualenv"></a>Virtualenv</h5><ol>
<li>安装 Virtualenv<br>Virtualenv 是一个创建隔绝的 Python 环境的工具。Virtualenv 创建一个包含所有必要的可执行文件的文件夹，用来使用Python工程所需的包。<br>可以理解为我们电脑上要开发很多项目，每一个项目的开发环境是不同的，Virtualenv 可以创建出一个个不同的开发环境。<pre><code>pip install virtualenv</code></pre></li>
<li>创建虚拟环境<pre><code>cd 路径
virtualenv 环境名</code></pre></li>
<li>激活·虚拟环境<pre><code>cd 环境名/Scripts
activate.bat </code></pre>激活成功后，命令行前面会有（环境名）的字样<pre><code>(环境名) 路径\环境名\Scripts&gt;</code></pre></li>
<li>退出虚拟环境<pre><code>deactivate.bat</code></pre><h5 id="VirtualenvWrapper"><a href="#VirtualenvWrapper" class="headerlink" title="VirtualenvWrapper"></a>VirtualenvWrapper</h5></li>
<li>安装 VirtualenvWrapper<br>使用 Virtualenv，需要进入相对应的路径，相对麻烦，可以使用 VirtualWrapper 对虚拟环境集中管理。<pre><code>pip install virtualenvwrapper-win</code></pre></li>
<li>设置环境变量<br>环境变量是通过 VirtualenvWrapper 建立虚拟环境时，该虚拟环境的所在目录<br>右键计算机–&gt;属性–&gt;高级系统设置–&gt;环境变量–&gt;系统变量–&gt;新建，变量值为你虚拟环境的目录。<pre><code>变量名：WORKON_HOME
变量值：路径\virtualenv</code></pre></li>
<li>创建虚拟环境<pre><code>mkvirtualenv 环境名</code></pre>创建的虚拟环境存放位置：路径\virtualenv即可</li>
<li>查看创建的所有虚拟环境<pre><code>workon</code></pre></li>
<li>启动虚拟环境<pre><code>workon 环境名</code></pre></li>
<li>退出虚拟环境<pre><code>deactivate</code></pre>如果这个虚拟环境不想要了，直接进入 路径\virtualenv文件夹删除 环境名的文件夹即可</li>
</ol>
<h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h4><p>启动虚拟环境</p>
<pre><code>workon 环境名</code></pre><p>创建方法见上文</p>
<p>这里直接用python IDE Pycharm 创建<br>file-&gt;new profile 新建一个项目</p>
<ul>
<li>选择左侧栏中的 django</li>
<li>位置栏输入自己的项目名称，这里直接叫 blog</li>
<li>解释器这里选择之前创建的虚拟环境 虚拟环境路径/环境名/Scripts/python.exe<br><img src="https://i.loli.net/2019/11/07/qwRQChyBemLnOix.png" alt="创建项目" title="创建项目"></li>
</ul>
<h4 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h4><p>运行方法见上文</p>
<p>这里用IDE直接run即可</p>
<pre><code>Django version 2.2.4, using settings &#39;blog.settings&#39;
Starting development server at http://127.0.0.1:8000/
Quit the server with CTRL-BREAK.</code></pre><p>在setting.py文件中，将语言改为中文，时区改为上海<br>blog -&gt; blog -&gt; settings.py</p>
<pre><code>LANGUAGE_CODE = &#39;zh-hans&#39;

TIME_ZONE = &#39;Asia/Shanghai&#39;</code></pre><h3 id="创建第一个APP"><a href="#创建第一个APP" class="headerlink" title="创建第一个APP"></a>创建第一个APP</h3><p>在Terminal中输入:</p>
<pre><code class="python">python manage.py startapp luyu</code></pre>
<p>于是就创建出一个名为luyu的app<br>此时项目完整的目录结构如下</p>
<pre><code>.
|-- blog
|   |-- luyu                # 博客应用
|   |   |-- migrations      # 数据库映射文件
|   |   |-- __init__.py     # 声明模块，内容默认为空
|   |   |-- admin.py        # 该应用的后台管理系统
|   |   |-- apps.py         # 应用配置，Django-1.9以后自动生成
|   |   |-- models.py       # 数据模块，使用ORM框架
|   |   |-- tests.py        # 自动化测试的模块        
|   |   |-- views.py        # 执行响应的代码所在模块，是代码逻辑处理的主要地点，项目中大部分代码在这里编写        
|   |-- blog                # 项目的容器
|   |   |-- __init__.py     # 声明模块，内容默认为空
|   |   |-- settings.py     # 该 Django 项目的设置/配置。
|   |   |-- urls.py         # 该 Django 项目的 URL 声明; 一份由 Django 驱动的网站&quot;目录&quot;。
|   |   |-- wsgi.py             # 一个 WSGI 兼容的 Web 服务器的入口，以便运行你的项目
|   |-- templates           # 模板文件
`-- manage.py</code></pre><p>新创建的app需要注册:<br>blog -&gt; blog -&gt; settings.py</p>
<pre><code class="python">INSTALLED_APPS = [
    &#39;django.contrib.admin&#39;,
    &#39;django.contrib.auth&#39;,
    &#39;django.contrib.contenttypes&#39;,
    &#39;django.contrib.sessions&#39;,
    &#39;django.contrib.messages&#39;,
    &#39;django.contrib.staticfiles&#39;,
    &#39;luyu&#39;,    # 添加用户应用
]</code></pre>
<h3 id="迁移数据库"><a href="#迁移数据库" class="headerlink" title="迁移数据库"></a>迁移数据库</h3><p>这里使用的数据库是mysql</p>
<h4 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h4><p>Django 中默认的数据库是 sqlite3<br>blog -&gt; blog -&gt; settings.py</p>
<pre><code class="python"># 默认
DATABASES = {
    &#39;default&#39;: {
        &#39;ENGINE&#39;: &#39;django.db.backends.sqlite3&#39;,
        &#39;NAME&#39;: os.path.join(BASE_DIR, &#39;db.sqlite3&#39;),
    }
}</code></pre>
<p>改为:</p>
<pre><code class="python">DATABASES = {
    &#39;default&#39;: {
        &#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;,
        &#39;HOST&#39;: &#39;localhost&#39;,
        &#39;PORT&#39;: &#39;3306&#39;,
        &#39;USER&#39;: &#39;root&#39;,
        &#39;PASSWORD&#39;: &#39;123456&#39;,
        &#39;NAME&#39;: &#39;luyu&#39;,
        # 避免映射数据库时出现警告
        &#39;OPTIONS&#39;: {
            &#39;init_command&#39;: &quot;SET sql_mode=&#39;STRICT_TRANS_TABLES&#39;&quot;,
            &#39;charset&#39;: &#39;utf8mb4&#39;,
        },
    }
}</code></pre>
<p>此时 Django 与 Mysql 关联上了，但是 Python 并没有与 Mysql 连接上,需要安装pymysql</p>
<pre><code>pip install pymysql</code></pre><p>此时，<br>在Terminal中输入:</p>
<pre><code class="python">python manage.py makemigrations</code></pre>
<p>和</p>
<pre><code class="python">python manage.py migrate</code></pre>
<p>当执行了 makemigrations 后，Django 在 luyu 这个应用的 migrations\ 目录下生成了一个 0001_initial.py 文件，这个文件是 Django 用来记录我们对模型做了哪些修改的文件。<br>不过此时只是告诉了 Django 做了哪些改变，为了让 Django 真正地为我们创建数据库表，接下来执行 migrate 命令。<br>Django 通过检测应用中 migrations\ 目录下的文件，得知我们对数据库做了哪些操作，然后它把这些操作翻译成数据库操作语言，从而把这些操作作用于数据库。<br>经过这两项操作后，我们打开 navicat 等mysql数据库可视化软件中的 blog 数据库，发现多了如下表单，这些表单为Django 自身还内置的很多应用，这些应用本身也是需要存储数据的。</p>
<pre><code>auth_group, 
auth_group_permissions, 
auth_permission, 
auth_user, 
auth_user_groups, 
auth_user_user_permissions, 
django_admin_log, 
django_content_type, 
django_migrations, 
django_session</code></pre><p>此时如果你发现项目文件中并没有 templates 文件，新建 templates 文件，右击鼠标，选择 Mark Directory as -&gt; Template Folder, 点击确定。</p>
<h3 id="数据结构设计"><a href="#数据结构设计" class="headerlink" title="数据结构设计"></a>数据结构设计</h3><h4 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h4><p>数据库设计是一个难点，先从功能上分析，看看这个博客网站需要建立哪些表，每个表中都需要什么字段。<br>首先，最主要的是我们的博文表，名字可以直接叫做 article，这个表中，肯定要包括以下几点：</p>
<p>博文的标题、博文的内容、博文的发表时间、博文的修改时间、博文的分类、博文的阅读量、博文喜欢量、博文作者 等</p>
<p>针对博文的分类，我们可以参考csdn博客系统，一篇博文只能有一个分类，但是可以有多个标签，比如我现在写的这篇博文，可以分类到 django 下，但是它可以有多个标签：django、博客、数据库、开发……</p>
<p>考虑到每一篇博文都只能有一个分类，而一个分类下是可以包含很多博文的，因此分类与博文是一对多的关系，此时应当使用外键来进行关联。而一篇博文可以有多个标签， 每个标签也可以包含多个博文，因此，标签与博文是多对多的关系。关于一对多与多对多的知识话题，这里就不再展开了，不了解的查看 Django文档 与相关资料。<br>针对网站优化，那么一个网站最基本的<a href="https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/3132?fromtitle=seo&fromid=102990&fr=aladdin" target="_blank" rel="noopener">SEO</a>就是设置TDK</p>
<pre><code>T： 网站页面 title

D： 网站页面描述

K： 网站页面Keywords，也即网站涵盖的主题</code></pre><p>则需要一个页面关键字表 Keyword，一个页面可能包含多个主题，一个主题可能在多个页面出现，所以应该是多对多的关系 暂且称作 Keyword</p>
<p><a href="https://cuiqingcai.com/" target="_blank" rel="noopener">模板博客</a>导航栏菜单存在下拉菜单，下拉菜单即是博文分类，这里的导航栏菜单也需要一个表，因为这个表就是为了给博文分类归类的 暂且称作 Bigcategory</p>
<p>观察<a href="https://cuiqingcai.com/" target="_blank" rel="noopener">模板博客</a>导航栏下边还一个公告，公告也需要一个表，它和任何表都没关系 暂且称作 Activate</p>
<p>公告下边是幻灯片，思考了一下，这个幻灯片应该和别的表也没啥关系，暂且称作 Carousel</p>
<p>再看看，右侧还有一个友情链接功能，需要一个表，友链和其它表也没啥关系 暂且称作 FriendLink</p>
<p>因此，通过上述分析，我们可以确定出这些数据表，博客（Article）、分类（Category）与标签（Tag）、导航(Bigcategory)、文章关键词 (Keyword)、公告(Activate)、幻灯片(Carousel)、友链(FriendLink)</p>
<h4 id="编写-luyu-应用模型"><a href="#编写-luyu-应用模型" class="headerlink" title="编写 luyu 应用模型"></a>编写 luyu 应用模型</h4><p>blog -&gt; luyu -&gt; models.py</p>

  </article>
  
    
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>本文作者：</strong>ruijielu<br>
<strong>本文链接：</strong><a href="https://luyuonism.github.io/2018/06/05/django/" title="https:&#x2F;&#x2F;luyuonism.github.io&#x2F;2018&#x2F;06&#x2F;05&#x2F;django&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;luyuonism.github.io&#x2F;2018&#x2F;06&#x2F;05&#x2F;django&#x2F;</a><br>

  <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可

</div>


  
  <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '6697f1e2bc68a9625fed',
        clientSecret: '173e837a4a0788e2d0c2ecfe68911cd3a3efc2d1',
        id: window.location.pathname,
        repo: 'https://luyuonism.github.io',
        owner: 'luyuonism',
        admin: 'luyuonism'
    })
    gitalk.render('gitalk')
</script>
</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/js/app.js?v=1573128875348"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>

  





</body>

</html>
